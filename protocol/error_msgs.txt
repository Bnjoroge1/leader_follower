## Testing on RPI3
# ERROR 1
# successfully reset the baudrates on RPI1 and RPI3, setup the network on RPI1, and permit joins on RPI1

(venv) pi@raspberrypi1:~/Desktop/dev/zigpy $ zigpy radio ezsp /dev/ttyACM0 permit -t 60
(venv) pi@raspberrypi3:~/Desktop/zigpy $ zigpy radio ezsp /dev/ttyACM0 info
Traceback (most recent call last):
  File "/home/pi/.local/bin/zigpy", line 8, in <module>
    sys.exit(cli())
  File "/usr/lib/python3/dist-packages/click/core.py", line 829, in __call__
    return self.main(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/click/core.py", line 782, in main
    rv = self.invoke(ctx)
  File "/usr/lib/python3/dist-packages/click/core.py", line 1259, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/usr/lib/python3/dist-packages/click/core.py", line 1259, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/usr/lib/python3/dist-packages/click/core.py", line 1066, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/usr/lib/python3/dist-packages/click/core.py", line 610, in invoke
    return callback(*args, **kwargs)
  File "/usr/lib/python3/dist-packages/click/decorators.py", line 33, in new_func
    return f(get_current_context().obj, *args, **kwargs)
  File "/home/pi/.local/lib/python3.9/site-packages/zigpy_cli/cli.py", line 20, in inner
    return loop.run_until_complete(cmd(*args, **kwargs))
  File "/usr/lib/python3.9/asyncio/base_events.py", line 642, in run_until_complete
    return future.result()
  File "/home/pi/.local/lib/python3.9/site-packages/zigpy_cli/radio.py", line 83, in info
    await app.load_network_info(load_devices=False)
  File "/home/pi/.local/lib/python3.9/site-packages/bellows/zigbee/application.py", line 240, in load_network_info
    await self._ensure_network_running()
  File "/home/pi/.local/lib/python3.9/site-packages/bellows/zigbee/application.py", line 174, in _ensure_network_running
    raise NetworkNotFormed("Node is not part of a network")
zigpy.exceptions.NetworkNotFormed: Node is not part of a network

# ERROR 2
# this occurs on any RPI device when using bellows commands:

(venv) pi@raspberrypi1:~/Desktop/dev/zigpy $ bellows info --device /dev/ttyACM0
Usage: bellows [OPTIONS] COMMAND [ARGS]...
Try 'bellows --help' for help.

Error: Missing option '-d' / '--device'.


## Testing on RPI2: Concluded that there is a hardware issue on this device
# ERROR 1
# this only occurs on RPI2; no issues on RPI1

(venv) pi@raspberrypi2:~/Desktop/dev/zigpy $ zigpy radio --baudrate 115200 ezsp /dev/ttyACM0 reset
Traceback (most recent call last):
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/ash.py", line 650, in _send_data_frame
    await ack_future
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/Desktop/dev/zigpy/venv/bin/zigpy", line 8, in <module>
    sys.exit(cli())
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/decorators.py", line 45, in new_func
    return f(get_current_context().obj, *args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/zigpy_cli/cli.py", line 20, in inner
    return loop.run_until_complete(cmd(*args, **kwargs))
  File "/usr/lib/python3.9/asyncio/base_events.py", line 642, in run_until_complete
    return future.result()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/zigpy_cli/radio.py", line 156, in reset
    await app.connect()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/zigbee/application.py", line 148, in connect
    await ezsp.startup_reset()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/ezsp/__init__.py", line 123, in startup_reset
    await self.version()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/ezsp/__init__.py", line 169, in version
    ver, stack_type, stack_version = await self._command(
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/ezsp/__init__.py", line 200, in _command
    return await command(*args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/ezsp/protocol.py", line 126, in command
    await self._gw.send_data(data)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/uart.py", line 42, in send_data
    await self._transport.send_data(data)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/ash.py", line 702, in send_data
    await asyncio.shield(
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/ash.py", line 650, in _send_data_frame
    await ack_future
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/async_timeout/__init__.py", line 141, in __aexit__
    self._do_exit(exc_type)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/async_timeout/__init__.py", line 228, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError



# ERROR 2
# this happens when I use bellows to form a network on RPI1

(venv) pi@raspberrypi1:~/Desktop/dev/zigpy $ bellows form -D /home/pi/.config/bellows/app.db -c 15 -P 1150 -E 0011223344556677 -N 0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15
Traceback (most recent call last):
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/uart.py", line 126, in reset
    return await self._reset_future
asyncio.exceptions.CancelledError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/Desktop/dev/zigpy/venv/bin/bellows", line 8, in <module>
    sys.exit(main())
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/decorators.py", line 33, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/cli/application.py", line 45, in form
    return util.app(inner, app_startup=False, extra_config=extra_config)(ctx)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/cli/util.py", line 75, in inner
    loop.run_until_complete(async_inner(*args, **kwargs))
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 641, in run_until_complete
    return future.result()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/cli/util.py", line 63, in async_inner
    await f(ctx, *args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/cli/application.py", line 43, in inner
    await app.startup(auto_form=True)
  File "/home/pi/Desktop/dev/zigpy/zigpy/application.py", line 234, in startup
    await self.connect()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/zigbee/application.py", line 148, in connect
    await ezsp.startup_reset()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/ezsp/__init__.py", line 121, in startup_reset
    await self.reset()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/ezsp/__init__.py", line 147, in reset
    await self._gw.reset()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/uart.py", line 125, in reset
    async with asyncio_timeout(RESET_TIMEOUT):
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/async_timeout/__init__.py", line 141, in __aexit__
    self._do_exit(exc_type)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/async_timeout/__init__.py", line 228, in _do_exit
    raise asyncio.TimeoutError
asyncio.exceptions.TimeoutError


# ERROR 3
# occurs when attempting to join the network from RPI2

(venv) pi@raspberrypi2:~/Desktop/dev/zigpy $ bellows join -C 11 -E 0011223344556677 -P 1150
Traceback (most recent call last):
  File "/home/pi/Desktop/dev/zigpy/venv/bin/bellows", line 8, in <module>
    sys.exit(main())
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/click/decorators.py", line 33, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/cli/util.py", line 39, in inner
    loop.run_until_complete(f(*args, **kwargs))
  File "/usr/lib/python3.9/asyncio/base_events.py", line 642, in run_until_complete
    return future.result()
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/cli/network.py", line 73, in join
    extended_pan_id = util.parse_epan(extended_pan_id)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/cli/util.py", line 146, in parse_epan
    epan_list = [t.uint8_t(x, 16) for x in epan.split(":")]
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/bellows/cli/util.py", line 146, in <listcomp>
    epan_list = [t.uint8_t(x, 16) for x in epan.split(":")]
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.9/site-packages/zigpy/types/basic.py", line 100, in __new__
    raise ValueError(
ValueError: 4822678189205111 is not an unsigned 8 bit integer
warning: Received an unexpected reset: <NcpResetCode.RESET_SOFTWARE: 11>

# ERROR 4
# when attempting to output all the connected devices to bellows

(venv) pi@raspberrypi1:~/Desktop/dev/zigpy $ bellows devices
Traceback (most recent call last):
  File "/home/pi/Desktop/dev/zigpy/venv/bin/bellows", line 8, in <module>
    sys.exit(main())
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 1157, in __call__
    return self.main(*args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 1078, in main
    rv = self.invoke(ctx)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/core.py", line 783, in invoke
    return __callback(*args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/click/decorators.py", line 33, in new_func
    return f(get_current_context(), *args, **kwargs)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/cli/application.py", line 111, in devices
    app = loop.run_until_complete(
  File "/usr/local/lib/python3.10/asyncio/base_events.py", line 641, in run_until_complete
    return future.result()
  File "/home/pi/Desktop/dev/zigpy/zigpy/application.py", line 251, in new
    app = cls(config)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/bellows/zigbee/application.py", line 81, in __init__
    super().__init__(config)
  File "/home/pi/Desktop/dev/zigpy/zigpy/application.py", line 68, in __init__
    self._config = self.SCHEMA(config)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/voluptuous/schema_builder.py", line 205, in __call__
    return self._compiled([], data)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/voluptuous/schema_builder.py", line 549, in validate_dict
    return base_validate(path, data.items(), out)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/voluptuous/schema_builder.py", line 330, in validate_mapping
    cval = cvalue(key_path, value)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/voluptuous/schema_builder.py", line 779, in validate_callable
    return schema(data)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/voluptuous/schema_builder.py", line 205, in __call__
    return self._compiled([], data)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/voluptuous/schema_builder.py", line 549, in validate_dict
    return base_validate(path, data.items(), out)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/voluptuous/schema_builder.py", line 330, in validate_mapping
    cval = cvalue(key_path, value)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/voluptuous/schema_builder.py", line 590, in validate_sequence
    cval = validate(index_path, value)
  File "/home/pi/Desktop/dev/zigpy/venv/lib/python3.10/site-packages/voluptuous/schema_builder.py", line 779, in validate_callable
    return schema(data)
  File "/home/pi/Desktop/dev/zigpy/zigpy/config/validators.py", line 124, in cv_ota_provider
    provider_type = obj.get(zigpy.config.CONF_OTA_PROVIDER_TYPE)
AttributeError: 'Ledvance' object has no attribute 'get'